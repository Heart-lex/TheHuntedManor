[gd_scene load_steps=9 format=3 uid="uid://civ4ssgo6jrxw"]

[ext_resource type="PackedScene" uid="uid://bikmw8jxnqjj5" path="res://assets/dungeon/items/old_lever/lever.gltf" id="1_jcmys"]
[ext_resource type="Script" path="res://scripts/items/lever.gd" id="2_0y1cr"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_n0jin"]
albedo_color = Color(0.340028, 0.174638, 0.128305, 1)
rim_tint = 0.0
ao_light_affect = 0.96

[sub_resource type="BoxShape3D" id="BoxShape3D_l262w"]
size = Vector3(0.868534, 1.30127, 0.477219)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_krqav"]
animation = &"Lever|LeverAction"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_bnb3a"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_maykx"]
states/End/position = Vector2(901, 100)
states/Lever|LeverAction/node = SubResource("AnimationNodeAnimation_krqav")
states/Lever|LeverAction/position = Vector2(548, 105)
states/Start/position = Vector2(252, 105)
transitions = ["Start", "Lever|LeverAction", SubResource("AnimationNodeStateMachineTransition_bnb3a")]

[sub_resource type="BoxShape3D" id="BoxShape3D_65qx8"]
size = Vector3(3.64319, 3.47314, 4.00488)

[node name="Lever" instance=ExtResource("1_jcmys")]
script = ExtResource("2_0y1cr")

[node name="Sketchfab_model" parent="." index="0"]
transform = Transform3D(-0.03, -4.52987e-09, -1.98007e-16, 0, -1.31134e-09, 0.03, -4.52987e-09, 0.03, 1.31134e-09, 0, 0, 0)

[node name="Lever" parent="Sketchfab_model/0c2d42745fba4ffd8173d9494c92f72f_fbx/Object_2/RootNode" index="0"]
transform = Transform3D(0.00261715, 0, 0, 0, 0.00566671, -0.00595384, 0, 0.00962138, 0.00350663, -10.3698, -0.807412, -0.424761)

[node name="Panel_Panel_0" parent="Sketchfab_model/0c2d42745fba4ffd8173d9494c92f72f_fbx/Object_2/RootNode/Panel" index="0"]
transform = Transform3D(1, 4.23516e-22, -7.10543e-15, 4.23516e-22, 1, 3.55271e-15, 7.10543e-15, -3.55271e-15, 1, 0.336858, 0, -2.38419e-07)
surface_material_override/0 = SubResource("StandardMaterial3D_n0jin")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="2"]
transform = Transform3D(1, -4.23516e-22, -7.10543e-15, -4.23516e-22, 1, -3.55271e-15, 7.10543e-15, 3.55271e-15, 1, 0.279605, 0.0905197, 0.00883298)
shape = SubResource("BoxShape3D_l262w")
disabled = true

[node name="AnimationTree" type="AnimationTree" parent="." index="3"]
tree_root = SubResource("AnimationNodeStateMachine_maykx")
anim_player = NodePath("../AnimationPlayer")

[node name="DetectionArea" type="Area3D" parent="." index="4"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DetectionArea" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.244446, 0.218771, 1.80091)
shape = SubResource("BoxShape3D_65qx8")

[connection signal="body_entered" from="DetectionArea" to="." method="_on_body_entered"]
[connection signal="body_exited" from="DetectionArea" to="." method="_on_body_exited"]
