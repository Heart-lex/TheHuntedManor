[gd_scene load_steps=34 format=3 uid="uid://bbc16i4oqesmb"]

[ext_resource type="PackedScene" uid="uid://d4bqdrl61p7n1" path="res://assets/dungeon/characters/heroes/Knight.glb" id="1_vfky0"]
[ext_resource type="Script" path="res://scripts/hero_knight.gd" id="2_ski37"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_kesft"]
height = 2.49257

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_s5fay"]
animation = &"1H_Melee_Attack_Chop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_5sqe4"]
animation = &"1H_Melee_Attack_Slice_Diagonal"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_gq614"]
animation = &"1H_Melee_Attack_Slice_Horizontal"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_vilf1"]
animation = &"Death_A"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_i4hco"]
animation = &"Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_uc0ig"]
animation = &"Running_Strafe_Right"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hpdm0"]
animation = &"Running_Strafe_Left"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_fe0fn"]
animation = &"Walking_Backwards"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_55sdu"]
animation = &"Walking_A"

[sub_resource type="AnimationNodeBlendSpace2D" id="AnimationNodeBlendSpace2D_f8nvr"]
blend_point_0/node = SubResource("AnimationNodeAnimation_i4hco")
blend_point_0/pos = Vector2(0, 0)
blend_point_1/node = SubResource("AnimationNodeAnimation_uc0ig")
blend_point_1/pos = Vector2(1, 0)
blend_point_2/node = SubResource("AnimationNodeAnimation_hpdm0")
blend_point_2/pos = Vector2(-1, 0)
blend_point_3/node = SubResource("AnimationNodeAnimation_fe0fn")
blend_point_3/pos = Vector2(0, -1)
blend_point_4/node = SubResource("AnimationNodeAnimation_55sdu")
blend_point_4/pos = Vector2(0, 1)

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ioade"]
animation = &"Interact"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_dy7hs"]
animation = &"Jump_Idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_b0yh8"]
animation = &"Jump_Land"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_ofcvh"]
animation = &"Jump_Start"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_od4gq"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_t8pyi"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_15o7t"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_c40qt"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_putbl"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_avw3y"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_u7s8f"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_05fup"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_guhfj"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_o7fju"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_1m6r0"]
xfade_time = 0.2
advance_condition = &"jumping"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_lg0i1"]
advance_mode = 2
advance_condition = &"grounded"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_wl8l8"]
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_vymi6"]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7spa7"]
xfade_time = 0.1
switch_mode = 2
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_gxnap"]
states/1H_Melee_Attack_Chop/node = SubResource("AnimationNodeAnimation_s5fay")
states/1H_Melee_Attack_Chop/position = Vector2(470, -177)
states/1H_Melee_Attack_Slice_Diagonal/node = SubResource("AnimationNodeAnimation_5sqe4")
states/1H_Melee_Attack_Slice_Diagonal/position = Vector2(230, -131)
states/1H_Melee_Attack_Slice_Horizontal/node = SubResource("AnimationNodeAnimation_gq614")
states/1H_Melee_Attack_Slice_Horizontal/position = Vector2(708, -131)
states/Death_A/node = SubResource("AnimationNodeAnimation_vilf1")
states/Death_A/position = Vector2(780, -34)
states/End/position = Vector2(902, 100)
states/IdleWalkRun/node = SubResource("AnimationNodeBlendSpace2D_f8nvr")
states/IdleWalkRun/position = Vector2(470, 100)
states/Interact/node = SubResource("AnimationNodeAnimation_ioade")
states/Interact/position = Vector2(236, -34)
states/Jump_Idle/node = SubResource("AnimationNodeAnimation_dy7hs")
states/Jump_Idle/position = Vector2(644, 276)
states/Jump_Land/node = SubResource("AnimationNodeAnimation_b0yh8")
states/Jump_Land/position = Vector2(284, 276)
states/Jump_Start/node = SubResource("AnimationNodeAnimation_ofcvh")
states/Jump_Start/position = Vector2(470, 209)
transitions = ["Start", "IdleWalkRun", SubResource("AnimationNodeStateMachineTransition_od4gq"), "IdleWalkRun", "Interact", SubResource("AnimationNodeStateMachineTransition_t8pyi"), "Interact", "IdleWalkRun", SubResource("AnimationNodeStateMachineTransition_15o7t"), "IdleWalkRun", "Death_A", SubResource("AnimationNodeStateMachineTransition_c40qt"), "IdleWalkRun", "1H_Melee_Attack_Slice_Diagonal", SubResource("AnimationNodeStateMachineTransition_putbl"), "IdleWalkRun", "1H_Melee_Attack_Slice_Horizontal", SubResource("AnimationNodeStateMachineTransition_avw3y"), "IdleWalkRun", "1H_Melee_Attack_Chop", SubResource("AnimationNodeStateMachineTransition_u7s8f"), "1H_Melee_Attack_Chop", "IdleWalkRun", SubResource("AnimationNodeStateMachineTransition_05fup"), "1H_Melee_Attack_Slice_Horizontal", "IdleWalkRun", SubResource("AnimationNodeStateMachineTransition_guhfj"), "1H_Melee_Attack_Slice_Diagonal", "IdleWalkRun", SubResource("AnimationNodeStateMachineTransition_o7fju"), "IdleWalkRun", "Jump_Start", SubResource("AnimationNodeStateMachineTransition_1m6r0"), "Jump_Idle", "Jump_Land", SubResource("AnimationNodeStateMachineTransition_lg0i1"), "Jump_Start", "Jump_Idle", SubResource("AnimationNodeStateMachineTransition_wl8l8"), "IdleWalkRun", "Jump_Idle", SubResource("AnimationNodeStateMachineTransition_vymi6"), "Jump_Land", "IdleWalkRun", SubResource("AnimationNodeStateMachineTransition_7spa7")]
graph_offset = Vector2(-158, 67.6229)

[node name="HeroKnight" instance=ExtResource("1_vfky0")]
script = ExtResource("2_ski37")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.25, 0)
shape = SubResource("CapsuleShape3D_kesft")

[node name="Skeleton3D" parent="Rig" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)
bones/0/rotation = Quaternion(-2.86463e-11, 0.000832552, 4.96169e-11, 1)
bones/1/position = Vector3(-1.71227e-25, 0.36867, 7.18178e-19)
bones/1/rotation = Quaternion(0.00015855, 0.0426213, -0.000117462, 0.999091)
bones/2/rotation = Quaternion(0.000218805, -0.000321643, 0.000534189, 1)
bones/3/rotation = Quaternion(0.000107276, -0.000247513, -0.000328424, 1)
bones/4/position = Vector3(0.211983, 0.134105, -7.14319e-05)
bones/4/rotation = Quaternion(-0.553099, -0.0600526, -0.636689, 0.53395)
bones/5/rotation = Quaternion(2.45448e-08, -6.63613e-08, -0.516382, 0.856359)
bones/7/rotation = Quaternion(-0.318756, -0.341533, 0.147932, 0.871703)
bones/8/position = Vector3(1.24497e-09, 0.0961252, -0.0575)
bones/8/rotation = Quaternion(0.000996214, 0.00118951, -0.702856, 0.711331)
bones/14/position = Vector3(-0.211991, 0.134109, -7.34574e-05)
bones/14/rotation = Quaternion(-0.610299, 0.0758368, 0.611543, 0.497795)
bones/15/rotation = Quaternion(3.31232e-08, 4.17829e-08, 0.538891, 0.842376)
bones/17/rotation = Quaternion(-0.320646, 0.314646, -0.227129, 0.864058)
bones/18/position = Vector3(-1.55546e-08, 0.0961251, -0.0575)
bones/18/rotation = Quaternion(0.00318186, 0.00405772, 0.703115, 0.711058)
bones/21/rotation = Quaternion(-0.000209053, -0.0308154, 9.02701e-05, 0.999525)
bones/24/position = Vector3(0.170945, 0.113276, -0.000333345)
bones/24/rotation = Quaternion(0.989798, 0.0829764, 0.0777469, 0.0858482)
bones/25/rotation = Quaternion(0.399635, 6.07984e-08, -2.71875e-07, 0.916674)
bones/26/rotation = Quaternion(-0.624401, -0.198519, 0.0759413, 0.751629)
bones/27/rotation = Quaternion(-9.63333e-09, 0.919072, -0.39409, 7.82245e-08)
bones/28/position = Vector3(-0.170945, 0.113581, 0.000333377)
bones/28/rotation = Quaternion(0.990809, -0.0331497, 0.0292727, 0.127833)
bones/29/rotation = Quaternion(0.444234, -5.87215e-08, 3.1089e-07, 0.895911)
bones/30/rotation = Quaternion(-0.649592, 0.111103, -0.0231633, 0.751764)
bones/31/rotation = Quaternion(3.13205e-08, 0.920311, -0.391188, -6.99187e-08)
bones/32/position = Vector3(0.170945, 0.292442, 0.575944)
bones/32/rotation = Quaternion(0.707107, -2.29319e-07, -4.60384e-08, 0.707107)
bones/33/position = Vector3(0.201802, 0.0252791, 0.202033)
bones/33/rotation = Quaternion(-0.704956, -7.07417e-08, -7.03136e-08, 0.709251)
bones/34/position = Vector3(1.94552e-08, 0.362833, 2.61432e-05)
bones/34/rotation = Quaternion(9.52068e-09, 1.74257e-09, 0.986064, -0.166367)
bones/35/position = Vector3(-2.60257e-08, 0.213436, -4.9991e-09)
bones/35/rotation = Quaternion(-1.01316e-07, 0.391084, 0.920355, -3.34396e-08)
bones/36/position = Vector3(8.4322e-09, 0.16565, -2.33282e-09)
bones/37/rotation = Quaternion(1, -2.32603e-09, 1.99716e-07, 2.95996e-12)
bones/39/position = Vector3(-0.170945, 0.292442, 0.575944)
bones/39/rotation = Quaternion(0.707107, -3.82552e-08, 1.45025e-07, 0.707107)
bones/40/position = Vector3(-0.170945, 0.0274321, 0.247858)
bones/40/rotation = Quaternion(-0.70828, -7.05109e-08, -7.05923e-08, 0.705932)
bones/41/position = Vector3(1.94581e-08, 0.362833, -3.04311e-11)
bones/41/rotation = Quaternion(-5.75363e-09, 6.34868e-10, 0.994935, 0.100522)
bones/42/position = Vector3(-1.11008e-08, 0.213436, 9.08617e-11)
bones/42/rotation = Quaternion(-1.05766e-07, 0.391084, 0.920355, -2.5907e-08)
bones/43/position = Vector3(-6.15359e-09, 0.16565, 2.3863e-09)
bones/44/rotation = Quaternion(1, 3.72207e-09, 1.94882e-07, 7.35989e-09)
bones/46/position = Vector3(0.454516, 1.10374, -0.590992)
bones/46/rotation = Quaternion(-0.707107, -0.000196279, -0.000196279, 0.707107)
bones/47/position = Vector3(0.520546, 0.775368, -0.0538693)
bones/47/rotation = Quaternion(0.797375, 0.00691577, 0.603435, 0.00343876)
bones/48/position = Vector3(-0.453117, 1.10406, -0.592306)
bones/48/rotation = Quaternion(-0.707107, -0.000196279, -0.000196279, 0.707107)
bones/49/position = Vector3(-0.510877, 0.774574, 0.057149)
bones/49/rotation = Quaternion(0.759127, -0.00207257, -0.650939, 0.00104786)

[node name="1H_Sword_Offhand" parent="Rig/Skeleton3D" index="0"]
transform = Transform3D(-0.0086951, 0.265151, 0.964167, 0.999961, 0.00240883, 0.00835583, -0.000106675, 0.964203, -0.265162, 0.514045, 0.623969, 0.00364214)

[node name="1H_Sword_Offhand" parent="Rig/Skeleton3D/1H_Sword_Offhand" index="0"]
visible = false

[node name="Badge_Shield" parent="Rig/Skeleton3D" index="1"]
transform = Transform3D(-0.00869507, 0.265151, 0.964167, 0.999961, 0.00240629, 0.0083565, -0.000104053, 0.964203, -0.265162, 0.664344, 0.625272, -0.0376927)
visible = false

[node name="Rectangle_Shield" parent="Rig/Skeleton3D" index="2"]
transform = Transform3D(-0.00869507, 0.265151, 0.964167, 0.999961, 0.00240629, 0.0083565, -0.000104053, 0.964203, -0.265162, 0.664344, 0.625272, -0.0376927)
visible = false

[node name="Round_Shield" parent="Rig/Skeleton3D" index="3"]
transform = Transform3D(-0.00869507, 0.265151, 0.964167, 0.999961, 0.00240629, 0.0083565, -0.000104053, 0.964203, -0.265162, 0.664344, 0.625272, -0.0376927)
visible = false

[node name="Spike_Shield" parent="Rig/Skeleton3D" index="4"]
transform = Transform3D(-0.00869507, 0.265151, 0.964167, 0.999961, 0.00240629, 0.0083565, -0.000104053, 0.964203, -0.265162, 0.664344, 0.625272, -0.0376927)
visible = false

[node name="1H_Sword" parent="Rig/Skeleton3D" index="5"]
transform = Transform3D(-0.00101035, -0.159154, 0.987253, 0.999985, -0.00541589, 0.000149848, 0.00532337, 0.987238, 0.159157, -0.497384, 0.627677, 0.138738)

[node name="2H_Sword" parent="Rig/Skeleton3D" index="6"]
transform = Transform3D(-0.00101036, -0.159154, 0.987253, 0.999985, -0.0054159, 0.000149861, 0.00532338, 0.987238, 0.159157, -0.497384, 0.627677, 0.138738)
visible = false

[node name="Knight_Helmet" parent="Rig/Skeleton3D" index="7"]
transform = Transform3D(0.999708, -0.000308168, 0.0241526, 0.000322196, 1, -0.000576917, -0.0241524, 0.00058453, 0.999708, -0.000263768, 1.1789, 0.000623473)

[node name="Knight_Cape" parent="Rig/Skeleton3D" index="8"]
transform = Transform3D(0.996322, -0.000104926, 0.0856903, 0.000189552, 0.999999, -0.000979445, -0.0856901, 0.000992085, 0.996321, -0.000269444, 1.1789, 0.000613046)

[node name="CameraPivot" type="Node3D" parent="." index="2"]

[node name="AnimationTree" type="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeStateMachine_gxnap")
anim_player = NodePath("../AnimationPlayer")
parameters/conditions/grounded = false
parameters/conditions/jumping = false
parameters/IdleWalkRun/blend_position = Vector2(-0.00158983, 0.010582)
